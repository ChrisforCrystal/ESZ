<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="chris.ssm.dao.OrderHelperDao">

    <resultMap id="orderHelperBaseMap" type="chris.ssm.model.OrderHelper">
        <result column="create_time" property="createTime" jdbcType="DATE"/>
        <result column="modify_time" property="modifyTime" jdbcType="DATE"/>
        <result column="ordernum" property="ordernum" />
        <result column="userid" property="userid" />
        <result column="money" property="money" />
        <result column="helpid" property="helpid" />

    </resultMap>

    <select id="findbyOrderParas" parameterType="java.lang.Long" resultMap="orderHelperBaseMap">

        SELECT * FROM orderhelp
        WHERE 1==1
        <if test="orderNumber!=null">
            and orderNumber=#{orderNumber}
        </if>
        <if test="month!=null">
            and month=#{month}
        </if>
        limit (#{page,5});
    </select>

    <select id="findOrderHelperList" parameterType="java.lang.Long" resultMap="orderHelperBaseMap">

        SELECT * FROM orderhelp limit (#{page,5});
    </select>
    
    <select id="deleteByid" parameterType="java.lang.Long">
        DELETE  FROM  picture wheren pid=#{pid}
    </select>
    <insert id="insert">
        INSERT INTO orderhelp(
        create_time,
        modify_time,
        ordernum,
        userid,
        money,
        helpid
        ) VALUES (
        now(),
        now(),
        #{money},
        #{url},
        #{userid},
        #{helpid},
       CURRENT_DATE,
       CURRENT_DATE ,

        )
    </insert>

</mapper>